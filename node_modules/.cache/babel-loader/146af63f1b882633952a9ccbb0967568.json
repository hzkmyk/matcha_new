{"ast":null,"code":"var _jsxFileName = \"/Users/hazukimiyake/Documents/matcha/src/InitialProfile/index.js\";\nimport React, { Component } from 'react';\nimport { Link } from 'react-router-dom';\nimport axios from 'axios';\nimport { withCookies } from 'react-cookie';\nimport './index.css';\n\nconst {\n  User\n} = require('../matcha_pb');\n\nclass InitialProfile extends Component {\n  constructor(props) {\n    super(props);\n\n    this.position = async () => {\n      navigator.geolocation.getCurrentPosition(async position => {\n        this.setState({\n          latitude: position.coords.latitude,\n          longitude: position.coords.longitude\n        });\n        const config = {\n          api_key: '39203097de53283e10880e0023185633d31d395'\n        };\n\n        if (this.state.location) {\n          const result = this.state.result = await axios.get(`https://api.geocod.io/v1.3/reverse?q=${position.coords.latitude},${position.coords.longitude}&api_key=${config.api_key}`);\n          console.log(`result is ${result}`);\n        } else {\n          const ipAdd = await axios.get(`https://api.ipify.org/`);\n          const result = await axios.get(`https://json.geoiplookup.io/${ipAdd.data}`);\n          console.log('result is', result);\n        }\n      }, err => console.log(err));\n    };\n\n    this.addProfileInfo = () => {\n      const request = new User();\n      const metaData = {\n        'user_id': this.state.uid,\n        'session_id': this.state.session_id\n      };\n      this.props.cookies.remove('missing_profile');\n      request.setGender(this.state.gender);\n      request.setPreference(this.state.sexPreference);\n      request.setBio(this.state.biography);\n      request.setId(this.state.uid);\n\n      for (const interest in this.state.interests) {\n        request.addTags(this.state.interests[interest]);\n      }\n\n      window.Aclient.updateUser(request, metaData, (err, reply) => {\n        if (err) {\n          console.log(err.code);\n          console.log(err.message);\n        } else {\n          console.log(reply.getMessage());\n        }\n      });\n    };\n\n    this.addInterests = () => {\n      this.setState(state => {\n        const interests = state.interests.concat(state.value);\n        return {\n          interests,\n          value: ''\n        };\n      });\n    };\n\n    this.state = {\n      gender: '',\n      sexPreference: '',\n      biography: '',\n      value: '',\n      interests: [],\n      uid: '',\n      session_id: ''\n    };\n  }\n\n  componentDidMount() {\n    const {\n      cookies\n    } = this.props;\n    const uid = cookies.get('uid');\n    const session_id = cookies.get('session_id');\n    this.setState({\n      uid,\n      session_id\n    });\n    let location = false;\n\n    if (window.confirm(`Allow 'Matcha' to use your location?`)) {\n      location = true;\n    }\n\n    cookies.set('location', location, {\n      path: '/'\n    });\n    console.log(`location is ${cookies.get('location')}`);\n  }\n\n  render() {\n    return React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 96\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"header\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 97\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      id: \"title\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 98\n      },\n      __self: this\n    }, \"MATCH\", React.createElement(\"span\", {\n      className: \"red\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 98\n      },\n      __self: this\n    }, \"A\")), React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 99\n      },\n      __self: this\n    }, React.createElement(Link, {\n      to: \"/\",\n      className: \"loginheader\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 99\n      },\n      __self: this\n    }, \"Logout\"))), React.createElement(\"div\", {\n      className: \"rest\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 101\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"tellusmore\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 102\n      },\n      __self: this\n    }, \"Tell Us More about Yourself\"), React.createElement(\"form\", {\n      className: \"toggle\",\n      onSubmit: e => {\n        e.preventDefault();\n        this.addProfileInfo();\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 103\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"areyou\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 110\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"leftmargin\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 111\n      },\n      __self: this\n    }, \"Are you\"), React.createElement(\"div\", {\n      className: \"areyoulabels\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 112\n      },\n      __self: this\n    }, React.createElement(\"input\", {\n      type: \"radio\",\n      value: \"female\",\n      id: \"female\",\n      name: \"gender\",\n      onChange: e => this.setState({\n        gender: e.target.value\n      }) // checked\n      ,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 113\n      },\n      __self: this\n    }), React.createElement(\"label\", {\n      htmlFor: \"female\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 121\n      },\n      __self: this\n    }, \"Female\"), React.createElement(\"input\", {\n      type: \"radio\",\n      value: \"male\",\n      id: \"male\",\n      onChange: e => this.setState({\n        gender: e.target.value\n      }),\n      name: \"gender\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 122\n      },\n      __self: this\n    }), React.createElement(\"label\", {\n      htmlFor: \"male\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 129\n      },\n      __self: this\n    }, \"Male\"))), React.createElement(\"div\", {\n      className: \"interested\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 132\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"leftmargin\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 133\n      },\n      __self: this\n    }, \"Who are you instered in?\"), React.createElement(\"div\", {\n      className: \"interestedlables\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 134\n      },\n      __self: this\n    }, React.createElement(\"input\", {\n      type: \"radio\",\n      value: \"prefFemale\",\n      id: \"prefFemale\",\n      name: \"sexpref\",\n      onChange: e => this.setState({\n        sexPreference: e.target.value\n      }),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 135\n      },\n      __self: this\n    }), React.createElement(\"label\", {\n      htmlFor: \"prefFemale\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 142\n      },\n      __self: this\n    }, \"Female\"), React.createElement(\"input\", {\n      type: \"radio\",\n      value: \"prefMale\",\n      id: \"prefMale\",\n      onChange: e => this.setState({\n        sexPreference: e.target.value\n      }),\n      name: \"sexpref\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 143\n      },\n      __self: this\n    }), React.createElement(\"label\", {\n      htmlFor: \"prefMale\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 150\n      },\n      __self: this\n    }, \"Male\"), React.createElement(\"input\", {\n      type: \"radio\",\n      value: \"prefBoth\",\n      id: \"prefBoth\",\n      onChange: e => this.setState({\n        sexPreference: e.target.value\n      }),\n      name: \"sexpref\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 151\n      },\n      __self: this\n    }), React.createElement(\"label\", {\n      htmlFor: \"prefBoth\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 158\n      },\n      __self: this\n    }, \"Both\"))), React.createElement(\"div\", {\n      className: \"bio\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 161\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"leftmargin\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 162\n      },\n      __self: this\n    }, \"Bio\"), React.createElement(\"textarea\", {\n      onChange: e => this.setState({\n        biography: e.target.value\n      }),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 163\n      },\n      __self: this\n    })), React.createElement(\"div\", {\n      className: \"interest\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 167\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"leftmargin\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 168\n      },\n      __self: this\n    }, \"Interests\"), React.createElement(\"input\", {\n      type: \"text\",\n      value: this.state.value,\n      onChange: e => this.setState({\n        value: e.target.value\n      }),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 169\n      },\n      __self: this\n    }), React.createElement(\"button\", {\n      type: \"button\",\n      onClick: this.addInterests,\n      disabled: !this.state.value,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 174\n      },\n      __self: this\n    }, \"Add\"), React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 181\n      },\n      __self: this\n    }, this.state.interests.map((value, i) => {\n      return React.createElement(\"span\", {\n        key: i,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 183\n        },\n        __self: this\n      }, value);\n    }))), React.createElement(\"button\", {\n      type: \"submit\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 187\n      },\n      __self: this\n    }, \"Save\"))));\n  }\n\n}\n\nexport default withCookies(InitialProfile);","map":{"version":3,"sources":["/Users/hazukimiyake/Documents/matcha/src/InitialProfile/index.js"],"names":["React","Component","Link","axios","withCookies","User","require","InitialProfile","constructor","props","position","navigator","geolocation","getCurrentPosition","setState","latitude","coords","longitude","config","api_key","state","location","result","get","console","log","ipAdd","data","err","addProfileInfo","request","metaData","uid","session_id","cookies","remove","setGender","gender","setPreference","sexPreference","setBio","biography","setId","interest","interests","addTags","window","Aclient","updateUser","reply","code","message","getMessage","addInterests","concat","value","componentDidMount","confirm","set","path","render","e","preventDefault","target","map","i"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport { Link } from 'react-router-dom';\nimport axios from 'axios';\nimport { withCookies } from 'react-cookie';\nimport './index.css';\nconst { User } = require('../matcha_pb');\n\nclass InitialProfile extends Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis.state = {\n\t\t\tgender: '',\n\t\t\tsexPreference: '',\n\t\t\tbiography: '',\n\t\t\tvalue: '',\n\t\t\tinterests: [],\n\t\t\tuid: '',\n\t\t\tsession_id: '',\n\t\t}\n\t}\n\n\tcomponentDidMount() {\n\t\tconst { cookies } = this.props;\n\t\tconst uid = cookies.get('uid');\n\t\tconst session_id = cookies.get('session_id');\n\t\tthis.setState({ uid, session_id });\n\t\tlet location = false;\n\t\tif (window.confirm(`Allow 'Matcha' to use your location?`)) {\n\t\t\tlocation = true;\n\t\t}\n\t\tcookies.set('location', location, { path: '/' });\n\t\tconsole.log(`location is ${cookies.get('location')}`);\n\t}\n\n\tposition = async () => {\n\t\tnavigator.geolocation.getCurrentPosition(\n\t\t\tasync position => {\n\t\t\t\tthis.setState({\n\t\t\t\t\tlatitude: position.coords.latitude,\n\t\t\t\t\tlongitude: position.coords.longitude\n\t\t\t\t})\n\t\t\t\tconst config = {\n\t\t\t\t\tapi_key: '39203097de53283e10880e0023185633d31d395'\n\t\t\t\t};\n\t\t\t\tif (this.state.location) {\n\t\t\t\t\tconst result = this.state.result = await axios.get(`https://api.geocod.io/v1.3/reverse?q=${position.coords.latitude},${position.coords.longitude}&api_key=${config.api_key}`);\n\t\t\t\t\tconsole.log(`result is ${result}`);\n\t\t\t\t} else {\n\t\t\t\t\tconst ipAdd = await axios.get(`https://api.ipify.org/`);\n\t\t\t\t\tconst result = await axios.get(`https://json.geoiplookup.io/${ipAdd.data}`);\n\t\t\t\t\tconsole.log('result is', result);\n\t\t\t\t}\n\t\t\t},\n\t\t\t\terr => console.log(err)\n\t\t);\n\t}\n\n\taddProfileInfo = () => {\n\t\tconst request = new User();\n\t\tconst metaData = {\n\t\t\t'user_id': this.state.uid,\n\t\t\t'session_id': this.state.session_id\n\t\t}\n\t\tthis.props.cookies.remove('missing_profile');\n\t\trequest.setGender(this.state.gender);\n\t\trequest.setPreference(this.state.sexPreference);\n\t\trequest.setBio(this.state.biography);\n\t\trequest.setId(this.state.uid);\n\t\tfor (const interest in this.state.interests) {\n\t\t\trequest.addTags(this.state.interests[interest]);\n\n\t\t}\n\t\twindow.Aclient.updateUser(request, metaData, (err, reply) => {\n\t\t\tif (err) {\n\t\t\t\tconsole.log(err.code);\n\t\t\t\tconsole.log(err.message);\n\t\t\t} else {\n\t\t\t\tconsole.log(reply.getMessage());\n\t\t\t}\n\t\t})\n\t}\n\n\taddInterests = () => {\n\t\tthis.setState(state => {\n\t\t\tconst interests = state.interests.concat(state.value);\n\n\t\t\treturn {\n\t\t\t\tinterests,\n\t\t\t\tvalue: '',\n\t\t\t};\n\t\t});\n\t};\n\n\trender() {\n\t\treturn (\n\t\t\t<div>\n\t\t\t\t<div className=\"header\">\n\t\t\t\t\t<div id=\"title\">MATCH<span className=\"red\">A</span></div>\n\t\t\t\t\t<div><Link to=\"/\" className=\"loginheader\">Logout</Link></div>\n\t\t\t\t</div>\n\t\t\t\t<div className=\"rest\">\n\t\t\t\t\t<div className=\"tellusmore\">Tell Us More about Yourself</div>\n\t\t\t\t\t<form\n\t\t\t\t\t\tclassName=\"toggle\"\n\t\t\t\t\t\tonSubmit={e => {\n\t\t\t\t\t\t\te.preventDefault();\n\t\t\t\t\t\t\tthis.addProfileInfo();\n\t\t\t\t\t\t}}\n\t\t\t\t\t>\n\t\t\t\t\t\t<div className=\"areyou\">\n\t\t\t\t\t\t\t<div className=\"leftmargin\">Are you</div>\n\t\t\t\t\t\t\t<div className=\"areyoulabels\">\n\t\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\t\ttype=\"radio\"\n\t\t\t\t\t\t\t\t\tvalue=\"female\"\n\t\t\t\t\t\t\t\t\tid=\"female\"\n\t\t\t\t\t\t\t\t\tname=\"gender\"\n\t\t\t\t\t\t\t\t\tonChange={e => this.setState({ gender: e.target.value })}\n\t\t\t\t\t\t\t\t\t// checked\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t<label htmlFor=\"female\">Female</label>\n\t\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\t\ttype=\"radio\"\n\t\t\t\t\t\t\t\t\tvalue=\"male\"\n\t\t\t\t\t\t\t\t\tid=\"male\"\n\t\t\t\t\t\t\t\t\tonChange={e => this.setState({ gender: e.target.value })}\n\t\t\t\t\t\t\t\t\tname=\"gender\"\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t<label htmlFor=\"male\">Male</label>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div className=\"interested\">\n\t\t\t\t\t\t\t<div className=\"leftmargin\">Who are you instered in?</div>\n\t\t\t\t\t\t\t<div className=\"interestedlables\">\n\t\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\t\ttype=\"radio\"\n\t\t\t\t\t\t\t\t\tvalue=\"prefFemale\"\n\t\t\t\t\t\t\t\t\tid=\"prefFemale\"\n\t\t\t\t\t\t\t\t\tname=\"sexpref\"\n\t\t\t\t\t\t\t\t\tonChange={e => this.setState({ sexPreference: e.target.value })}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t<label htmlFor=\"prefFemale\">Female</label>\n\t\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\t\ttype=\"radio\"\n\t\t\t\t\t\t\t\t\tvalue=\"prefMale\"\n\t\t\t\t\t\t\t\t\tid=\"prefMale\"\n\t\t\t\t\t\t\t\t\tonChange={e => this.setState({ sexPreference: e.target.value })}\n\t\t\t\t\t\t\t\t\tname=\"sexpref\"\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t<label htmlFor=\"prefMale\">Male</label>\n\t\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\t\ttype=\"radio\"\n\t\t\t\t\t\t\t\t\tvalue=\"prefBoth\"\n\t\t\t\t\t\t\t\t\tid=\"prefBoth\"\n\t\t\t\t\t\t\t\t\tonChange={e => this.setState({ sexPreference: e.target.value })}\n\t\t\t\t\t\t\t\t\tname=\"sexpref\"\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t<label htmlFor=\"prefBoth\">Both</label>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div className=\"bio\">\n\t\t\t\t\t\t\t<div className=\"leftmargin\">Bio</div>\n\t\t\t\t\t\t\t<textarea\n\t\t\t\t\t\t\t\tonChange={e => this.setState({ biography: e.target.value })}\n\t\t\t\t\t\t\t></textarea>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div className=\"interest\">\n\t\t\t\t\t\t\t<div className=\"leftmargin\">Interests</div>\n\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\ttype=\"text\"\n\t\t\t\t\t\t\t\tvalue={this.state.value}\n\t\t\t\t\t\t\t\tonChange={e => this.setState({ value: e.target.value })}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\ttype=\"button\"\n\t\t\t\t\t\t\t\tonClick={this.addInterests}\n\t\t\t\t\t\t\t\tdisabled={!this.state.value}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\tAdd\n\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t{this.state.interests.map((value, i) => {\n\t\t\t\t\t\t\t\treturn <span key={i}>{value}</span>\n\t\t\t\t\t\t\t})}\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<button type=\"submit\">Save</button>\n\t\t\t\t\t</form>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t)\n\t}\n}\n\nexport default withCookies(InitialProfile);"]},"metadata":{},"sourceType":"module"}