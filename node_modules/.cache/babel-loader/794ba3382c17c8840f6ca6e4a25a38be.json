{"ast":null,"code":"var _jsxFileName = \"/Users/hazukimiyake/Documents/matcha/src/UpdateEmail/index.js\";\nimport React, { Component } from 'react';\nimport { withCookies } from 'react-cookie';\n\nconst {\n  AccountClient\n} = require('../matcha_grpc_web_pb');\n\nconst {\n  User\n} = require('../matcha_grpc_web_pb');\n\nclass UpdateEmail extends Component {\n  constructor(props) {\n    super(props);\n\n    this.updateEmailAdress = () => {\n      const client = new AccountClient('http://10.43.1.110:8080');\n      const request = new User();\n      request.setEmail(this.state.newEmail);\n      const uid = this.props.cookies.get('uid');\n      const temp = this.props.cookies.get('session_id');\n      const metaData = {\n        'user_id': uid,\n        'session_id': temp\n      };\n      client.updateUser(request, metaData, (err, respond) => {\n        if (err) {\n          console.log(err.code);\n          console.log(err.message);\n        } else {\n          console.log(response.getMessage());\n        }\n      });\n    };\n\n    this.state = {\n      newEmail: ''\n    };\n  }\n\n  render() {\n    return React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 37\n      },\n      __self: this\n    }, React.createElement(\"form\", {\n      onSubmit: e => {\n        e.preventDefault();\n        this.updateEmailAdress;\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 38\n      },\n      __self: this\n    }, React.createElement(\"input\", {\n      required: true,\n      type: \"email\",\n      placeholder: \"New Email Adress\",\n      value: this.state.newEmail,\n      onChange: e => this.setState({\n        newEmail: e.target.value\n      }),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 44\n      },\n      __self: this\n    }), React.createElement(\"button\", {\n      type: \"submit\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 51\n      },\n      __self: this\n    }, \"submit\")));\n  }\n\n}\n\nexport default withCookies(UpdateEmail);","map":{"version":3,"sources":["/Users/hazukimiyake/Documents/matcha/src/UpdateEmail/index.js"],"names":["React","Component","withCookies","AccountClient","require","User","UpdateEmail","constructor","props","updateEmailAdress","client","request","setEmail","state","newEmail","uid","cookies","get","temp","metaData","updateUser","err","respond","console","log","code","message","response","getMessage","render","e","preventDefault","setState","target","value"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AACA,SAASC,WAAT,QAA4B,cAA5B;;AACA,MAAM;AAAEC,EAAAA;AAAF,IAAoBC,OAAO,CAAC,uBAAD,CAAjC;;AACA,MAAM;AAAEC,EAAAA;AAAF,IAAWD,OAAO,CAAC,uBAAD,CAAxB;;AAEA,MAAME,WAAN,SAA0BL,SAA1B,CAAoC;AACnCM,EAAAA,WAAW,CAACC,KAAD,EAAQ;AAClB,UAAMA,KAAN;;AADkB,SAOnBC,iBAPmB,GAOC,MAAM;AACzB,YAAMC,MAAM,GAAG,IAAIP,aAAJ,CAAkB,yBAAlB,CAAf;AACA,YAAMQ,OAAO,GAAG,IAAIN,IAAJ,EAAhB;AACAM,MAAAA,OAAO,CAACC,QAAR,CAAiB,KAAKC,KAAL,CAAWC,QAA5B;AACA,YAAMC,GAAG,GAAG,KAAKP,KAAL,CAAWQ,OAAX,CAAmBC,GAAnB,CAAuB,KAAvB,CAAZ;AACA,YAAMC,IAAI,GAAG,KAAKV,KAAL,CAAWQ,OAAX,CAAmBC,GAAnB,CAAuB,YAAvB,CAAb;AACA,YAAME,QAAQ,GAAG;AAChB,mBAAWJ,GADK;AAEhB,sBAAcG;AAFE,OAAjB;AAIAR,MAAAA,MAAM,CAACU,UAAP,CAAkBT,OAAlB,EAA2BQ,QAA3B,EAAqC,CAACE,GAAD,EAAMC,OAAN,KAAkB;AACtD,YAAID,GAAJ,EAAS;AACRE,UAAAA,OAAO,CAACC,GAAR,CAAYH,GAAG,CAACI,IAAhB;AACAF,UAAAA,OAAO,CAACC,GAAR,CAAYH,GAAG,CAACK,OAAhB;AACA,SAHD,MAGO;AACNH,UAAAA,OAAO,CAACC,GAAR,CAAYG,QAAQ,CAACC,UAAT,EAAZ;AACA;AACD,OAPD;AASA,KA1BkB;;AAElB,SAAKf,KAAL,GAAa;AACZC,MAAAA,QAAQ,EAAE;AADE,KAAb;AAGA;;AAuBDe,EAAAA,MAAM,GAAG;AACR,WACC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACC;AACC,MAAA,QAAQ,EAAEC,CAAC,IAAI;AACdA,QAAAA,CAAC,CAACC,cAAF;AACA,aAAKtB,iBAAL;AACA,OAJF;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAMC;AACC,MAAA,QAAQ,MADT;AAEC,MAAA,IAAI,EAAC,OAFN;AAGC,MAAA,WAAW,EAAC,kBAHb;AAIC,MAAA,KAAK,EAAE,KAAKI,KAAL,CAAWC,QAJnB;AAKC,MAAA,QAAQ,EAAEgB,CAAC,IAAI,KAAKE,QAAL,CAAc;AAAElB,QAAAA,QAAQ,EAAEgB,CAAC,CAACG,MAAF,CAASC;AAArB,OAAd,CALhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAND,EAaC;AACC,MAAA,IAAI,EAAC,QADN;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBAbD,CADD,CADD;AAqBA;;AAnDkC;;AAsDpC,eAAehC,WAAW,CAACI,WAAD,CAA1B","sourcesContent":["import React, { Component } from 'react';\nimport { withCookies } from 'react-cookie';\nconst { AccountClient } = require('../matcha_grpc_web_pb');\nconst { User } = require('../matcha_grpc_web_pb');\n\nclass UpdateEmail extends Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis.state = {\n\t\t\tnewEmail: ''\n\t\t}\n\t}\n\n\tupdateEmailAdress = () => {\n\t\tconst client = new AccountClient('http://10.43.1.110:8080');\n\t\tconst request = new User();\n\t\trequest.setEmail(this.state.newEmail);\n\t\tconst uid = this.props.cookies.get('uid');\n\t\tconst temp = this.props.cookies.get('session_id');\n\t\tconst metaData = {\n\t\t\t'user_id': uid,\n\t\t\t'session_id': temp\n\t\t}\n\t\tclient.updateUser(request, metaData, (err, respond) => {\n\t\t\tif (err) {\n\t\t\t\tconsole.log(err.code);\n\t\t\t\tconsole.log(err.message);\n\t\t\t} else {\n\t\t\t\tconsole.log(response.getMessage());\n\t\t\t}\n\t\t})\n\t\t\n\t}\n\n\trender() {\n\t\treturn (\n\t\t\t<div>\n\t\t\t\t<form\n\t\t\t\t\tonSubmit={e => {\n\t\t\t\t\t\te.preventDefault();\n\t\t\t\t\t\tthis.updateEmailAdress;\n\t\t\t\t\t}}\n\t\t\t\t>\n\t\t\t\t\t<input\n\t\t\t\t\t\trequired\n\t\t\t\t\t\ttype=\"email\"\n\t\t\t\t\t\tplaceholder=\"New Email Adress\"\n\t\t\t\t\t\tvalue={this.state.newEmail}\n\t\t\t\t\t\tonChange={e => this.setState({ newEmail: e.target.value })}\n\t\t\t\t\t/>\n\t\t\t\t\t<button\n\t\t\t\t\t\ttype=\"submit\"\n\t\t\t\t\t>submit</button>\n\t\t\t\t</form>\n\t\t\t</div>\n\t\t)\n\t}\n}\n\nexport default withCookies(UpdateEmail);"]},"metadata":{},"sourceType":"module"}