{"ast":null,"code":"var _jsxFileName = \"/Users/hazukimiyake/Documents/matcha/src/ResetPassword/index.js\";\nimport React, { Component } from 'react';\n\nconst {\n  AccountClient\n} = require('../matcha_grpc_web_pb');\n\nconst {\n  resetPassRequest\n} = require('../matcha_pb');\n\nexport default class ResetPassword extends Component {\n  constructor(props) {\n    super(props);\n\n    this.resetPass = () => {\n      const client = new AccountClient('http://10.43.1.110:8080');\n      const request = new resetPassRequest();\n      const pathArray = window.location.search;\n      const urlParams = new URLSearchParams(pathArray);\n      const updatedEmail = urlParams.get('email');\n      const updatedHash = urlParams.get('hash');\n      request.setEmail(updatedEmail);\n      request.setHash(updatedHash);\n      request.setNewpass(this.state.newPass2);\n      client.forgotPassword(request, {}, (err, reply) => {\n        if (err) {\n          console.log(err.code);\n          console.log(err.message);\n        } else {\n          console.log(reply.getMessage());\n        }\n      });\n    };\n\n    this.state = {\n      newPass1: '',\n      newPass2: ''\n    };\n  }\n\n  render() {\n    return React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 37\n      },\n      __self: this\n    }, React.createElement(\"form\", {\n      onSubmit: e => {\n        e.preventDefault();\n\n        if (this.state.newPass1 === this.state.newPass2) {\n          console.log(this.state.newPass2);\n          this.resetPass();\n        } else {\n          return 'Passwords don\\'t match =(';\n        }\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 38\n      },\n      __self: this\n    }, React.createElement(\"input\", {\n      required: true,\n      id: \"resetpass\",\n      type: \"password\",\n      placeholder: \"New Password\",\n      value: this.state.newPass1,\n      onChange: e => this.setState({\n        newPass1: e.target.value\n      }),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 49\n      },\n      __self: this\n    }), React.createElement(\"input\", {\n      required: true,\n      id: \"resetpassconfirm\",\n      type: \"password\",\n      placeholder: \"Confirm New Password\",\n      value: this.state.newPass2,\n      onChange: e => this.setState({\n        newPass2: e.target.value\n      }),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 57\n      },\n      __self: this\n    }), React.createElement(\"button\", {\n      type: \"submit\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 65\n      },\n      __self: this\n    }, \"Submit\")));\n  }\n\n}","map":{"version":3,"sources":["/Users/hazukimiyake/Documents/matcha/src/ResetPassword/index.js"],"names":["React","Component","AccountClient","require","resetPassRequest","ResetPassword","constructor","props","resetPass","client","request","pathArray","window","location","search","urlParams","URLSearchParams","updatedEmail","get","updatedHash","setEmail","setHash","setNewpass","state","newPass2","forgotPassword","err","reply","console","log","code","message","getMessage","newPass1","render","e","preventDefault","setState","target","value"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nconst { AccountClient } = require('../matcha_grpc_web_pb');\nconst { resetPassRequest } = require('../matcha_pb');\n\nexport default class ResetPassword extends Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\n\t\tthis.state = {\n\t\t\tnewPass1: '',\n\t\t\tnewPass2: ''\n\t\t}\n\t}\n\n\tresetPass = () => {\n\t\tconst client = new AccountClient('http://10.43.1.110:8080');\n\t\tconst request = new resetPassRequest();\n\t\tconst pathArray = window.location.search;\n\t\tconst urlParams = new URLSearchParams(pathArray);\n\t\tconst updatedEmail = urlParams.get('email');\n\t\tconst updatedHash = urlParams.get('hash');\n\t\trequest.setEmail(updatedEmail);\n\t\trequest.setHash(updatedHash);\n\t\trequest.setNewpass(this.state.newPass2);\n\t\tclient.forgotPassword(request, {}, (err, reply) => {\n\t\t\tif (err) {\n\t\t\t\tconsole.log(err.code);\n\t\t\t\tconsole.log(err.message);\n\t\t\t} else {\n\t\t\t\tconsole.log(reply.getMessage());\n\t\t\t}\n\t\t})\n\t}\n\n\trender() {\n\t\treturn (\n\t\t\t<div>\n\t\t\t\t<form\n\t\t\t\t\tonSubmit={e => {\n\t\t\t\t\t\te.preventDefault()\n\t\t\t\t\t\tif (this.state.newPass1 === this.state.newPass2) {\n\t\t\t\t\t\t\tconsole.log(this.state.newPass2);\n\t\t\t\t\t\t\tthis.resetPass()\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\treturn 'Passwords don\\'t match =('\n\t\t\t\t\t\t}\n\t\t\t\t\t}}\n\t\t\t\t>\n\t\t\t\t\t<input\n\t\t\t\t\t\trequired\n\t\t\t\t\t\tid=\"resetpass\"\n\t\t\t\t\t\ttype=\"password\"\n\t\t\t\t\t\tplaceholder=\"New Password\"\n\t\t\t\t\t\tvalue={this.state.newPass1}\n\t\t\t\t\t\tonChange={e => this.setState({ newPass1: e.target.value })}\n\t\t\t\t\t/>\n\t\t\t\t\t<input\n\t\t\t\t\t\trequired\n\t\t\t\t\t\tid=\"resetpassconfirm\"\n\t\t\t\t\t\ttype=\"password\"\n\t\t\t\t\t\tplaceholder=\"Confirm New Password\"\n\t\t\t\t\t\tvalue={this.state.newPass2}\n\t\t\t\t\t\tonChange={e => this.setState({ newPass2: e.target.value })}\n\t\t\t\t\t/>\n\t\t\t\t\t<button\n\t\t\t\t\t\ttype=\"submit\"\n\t\t\t\t\t>\n\t\t\t\t\t\tSubmit\n\t\t\t\t\t</button>\n\t\t\t\t</form>\n\t\t\t</div>\n\t\t)\n\t}\n}"]},"metadata":{},"sourceType":"module"}